{% extends "_layout.html" %}

{% block title %}Customer Kiosk - NoQ{% endblock %}

{% block content %}
<header>
    <h1>NoQ <span class="badge">KIOSK</span></h1>
    <p>Your digital queuing solution.</p>
</header>

<main class="main-grid">
    <!-- Customer Kiosk Section -->
    <section class="card kiosk-card">
        <h2>üé´ Get a New Ticket</h2>
        <div class="form-group">
            <label for="custName">Name</label>
            <input type="text" id="custName" placeholder="e.g., John Doe">
        </div>
        <div class="form-group">
            <label for="custService">Service Type</label>
            <select id="custService">
                <option value="passport">Passport Services</option>
                <option value="tax">Tax Office</option>
                <option value="municipal">Municipal Services</option>
                <option value="support">General Support</option>
            </select>
        </div>
        <div class="form-group checkbox-group">
             <input type="checkbox" id="custPriority">
            <label for="custPriority">This is an urgent matter</label>
        </div>
        <button id="getTicketBtn" class="btn primary">Get My Ticket</button>

        <div id="ticketResult" class="result-box hidden">
            <h3>Your Ticket is Ready!</h3>
            <p>Your Ticket ID is:</p>
            <div class="ticket-display">
                <span id="displayTicketId">--</span>
            </div>
            <hr>
            <p>Current Position: <strong><span id="displayPos">--</span></strong> | Est. Wait: <strong><span id="displayWait">--</span> minutes</strong></p>
        </div>
    </section>

    <!-- Status Check Section -->
    <section class="card status-card">
        <h2>üîç Check Your Status</h2>
        <p>Already have a ticket? Enter the ID below to see your current position in the queue.</p>
        <div class="form-group">
            <label for="checkId">Ticket ID</label>
            <input type="text" id="checkId" placeholder="Enter Your Ticket ID">
        </div>
        <button id="checkStatusBtn" class="btn secondary">Check</button>
        
        <div id="statusResult" class="result-box hidden">
            <h3>Current Status</h3>
            <p>Position in Queue: <strong><span id="statusPos">--</span></strong></p>
            <p>Estimated Wait: <strong><span id="statusWait">--</span> minutes</strong></p>
        </div>
    </section>
</main>
{% endblock %}

{% block extra_js %}
<script>
    // Specific event listeners for this page
    document.getElementById('getTicketBtn').addEventListener('click', takeTicket);
    document.getElementById('checkStatusBtn').addEventListener('click', checkStatus);
</script>
{% endblock %}